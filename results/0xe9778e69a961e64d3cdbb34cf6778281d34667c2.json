{"time":686,"results":[{"type":"state-data-arrangement ","before":"\nuint128 constant MAX_UINT128 = uint128(0) - 1;\nNuCypherToken public immutable token;\nuint128 public immutable totalSupply;\nuint256 public immutable mintingCoefficient;\nuint256 public immutable lockDurationCoefficient1;\nuint256 public immutable lockDurationCoefficient2;\nuint32 public immutable secondsPerPeriod;\nuint16 public immutable maximumRewardedPeriods;\nuint256 public immutable firstPhaseMaxIssuance;\nuint256 public immutable firstPhaseTotalSupply;\nuint128 public previousPeriodSupply;\nuint128 public currentPeriodSupply;\nuint16 public currentMintingPeriod;","after":"NuCypherToken public immutable token;\nuint256 public immutable mintingCoefficient;\nuint256 public immutable lockDurationCoefficient1;\nuint256 public immutable lockDurationCoefficient2;\nuint256 public immutable firstPhaseMaxIssuance;\nuint256 public immutable firstPhaseTotalSupply;\nuint128 constant MAX_UINT128 = uint128(0) - 1;\nuint128 public immutable totalSupply;\nuint128 public previousPeriodSupply;\nuint128 public currentPeriodSupply;\nuint32 public immutable secondsPerPeriod;\nuint16 public immutable maximumRewardedPeriods;\nuint16 public currentMintingPeriod;\n","contract":"Issuer","time":1},{"type":"immutable-restrict-modification ","before":"string private _name;","after":"string private immutable _name;","contract":"NuCypherToken","time":0},{"type":"immutable-restrict-modification ","before":"string private _symbol;","after":"string private immutable _symbol;","contract":"NuCypherToken","time":0},{"type":"immutable-restrict-modification ","before":"uint8 private _decimals;","after":"uint8 private immutable _decimals;","contract":"NuCypherToken","time":0},{"type":"loop-calculation","before":"StakerInfo storage info = stakerInfo[staker];","after":"// move outside for loop\nStakerInfo storage info = stakerInfo[staker];","loc":{"start":{"line":1528,"column":12},"end":{"line":1528,"column":56}},"contract":"StakingEscrow","time":0},{"type":"de-morgan-condition ","before":"!crosscurrentCommittedPeriod && !crossnextCommittedPeriod","after":"!(crosscurrentCommittedPeriod && crossnextCommittedPeriod)","loc":{"start":{"line":2630,"column":12},"end":{"line":2630,"column":45}},"contract":"StakingEscrow","time":0},{"type":"state-data-arrangement ","before":"\nuint16 internal constant RESERVED_PERIOD = 0;\nuint16 internal constant MAX_CHECKED_VALUES = 5;\nuint16 public constant MAX_SUB_STAKES = 30;\nuint16 internal constant MAX_UINT16 = 65535;\nuint8 internal constant RE_STAKE_DISABLED_INDEX = 0;\nuint8 internal constant WIND_DOWN_INDEX = 1;\nuint8 internal constant MEASURE_WORK_INDEX = 2;\nuint8 internal constant SNAPSHOTS_DISABLED_INDEX = 3;\nuint16 public immutable minLockedPeriods;\nuint16 public immutable minWorkerPeriods;\nuint256 public immutable minAllowableLockedTokens;\nuint256 public immutable maxAllowableLockedTokens;\nbool public immutable isTestContract;\nmapping(address => StakerInfo) public stakerInfo;\naddress[] public stakers;\nmapping(address => address) public stakerFromWorker;\nmapping(uint16 => uint256) public lockedPerPeriod;\nuint128[] public balanceHistory;\nPolicyManagerInterface public policyManager;\nAdjudicatorInterface public adjudicator;\nWorkLockInterface public workLock;","after":"uint256 public immutable minAllowableLockedTokens;\nuint256 public immutable maxAllowableLockedTokens;\nmapping(address => StakerInfo) public stakerInfo;\naddress[] public stakers;\nmapping(address => address) public stakerFromWorker;\nmapping(uint16 => uint256) public lockedPerPeriod;\nuint128[] public balanceHistory;\nPolicyManagerInterface public policyManager;\nAdjudicatorInterface public adjudicator;\nWorkLockInterface public workLock;\nuint16 internal constant RESERVED_PERIOD = 0;\nuint16 internal constant MAX_CHECKED_VALUES = 5;\nuint16 public constant MAX_SUB_STAKES = 30;\nuint16 internal constant MAX_UINT16 = 65535;\nuint16 public immutable minLockedPeriods;\nuint16 public immutable minWorkerPeriods;\nuint8 internal constant RE_STAKE_DISABLED_INDEX = 0;\nuint8 internal constant WIND_DOWN_INDEX = 1;\nuint8 internal constant MEASURE_WORK_INDEX = 2;\nuint8 internal constant SNAPSHOTS_DISABLED_INDEX = 3;\nbool public immutable isTestContract;\n","contract":"StakingEscrow","time":5},{"type":"struct-data-arrangement ","before":"\nuint256 value\nuint16 currentCommittedPeriod\nuint16 nextCommittedPeriod\nuint16 lastCommittedPeriod\nuint16 lockReStakeUntilPeriod\nuint256 completedWork\nuint16 workerStartPeriod\naddress worker\nuint256 flags\nuint256 reservedSlot1\nuint256 reservedSlot2\nuint256 reservedSlot3\nuint256 reservedSlot4\nuint256 reservedSlot5\nDowntime[] pastDowntime\nSubStakeInfo[] subStakes\nuint128[] history","after":"uint256 value\nuint256 completedWork\nuint256 flags\nuint256 reservedSlot1\nuint256 reservedSlot2\nuint256 reservedSlot3\nuint256 reservedSlot4\nuint256 reservedSlot5\nDowntime[] pastDowntime\nSubStakeInfo[] subStakes\nuint128[] history\naddress worker\nuint16 currentCommittedPeriod\nuint16 nextCommittedPeriod\nuint16 lastCommittedPeriod\nuint16 lockReStakeUntilPeriod\nuint16 workerStartPeriod\n","contract":"StakingEscrow","time":0},{"type":"constant-restrict-modification  ","before":"address public target;","after":"address public constant target;","contract":"StakingEscrow","time":1},{"type":"constant-restrict-modification  ","before":"address public previousTarget;","after":"address public constant previousTarget;","contract":"StakingEscrow","time":1},{"type":"constant-restrict-modification  ","before":"uint8 public isUpgrade;","after":"uint8 public constant isUpgrade;","contract":"StakingEscrow","time":1},{"type":"constant-restrict-modification  ","before":"uint256 stubSlot;","after":"uint256 constant stubSlot;","contract":"StakingEscrow","time":1},{"type":"state-data-arrangement ","before":"\naddress public target;\naddress public previousTarget;\nuint8 public isUpgrade;\nuint256 stubSlot;\nuint8 constant UPGRADE_FALSE = 1;\nuint8 constant UPGRADE_TRUE = 2;","after":"uint256 stubSlot;\naddress public target;\naddress public previousTarget;\nuint8 public isUpgrade;\nuint8 constant UPGRADE_FALSE = 1;\nuint8 constant UPGRADE_TRUE = 2;\n","contract":"Upgradeable","time":1},{"type":"loop-calculation","before":"uint256 depositedETH = workInfo[bidder].depositedETH;","after":"// move outside for loop\nuint256 depositedETH = workInfo[bidder].depositedETH;","loc":{"start":{"line":3365,"column":12},"end":{"line":3365,"column":64}},"contract":"WorkLock","time":0},{"type":"loop-duplication","before":"\nstart line 3402 column 8, end line 3407 column 8\nfor (uint256 i = 0; i < length; i++) {\n            address bidder = _biddersForRefund[i];\n            WorkInfo storage info = workInfo[bidder];\n            refunds[i] += refundETH;\n            info.depositedETH = resultBid;\n        }\nstart line 3413 column 8, end line 3417 column 8\nfor (uint256 i = 0; i < length; i++) {\n            address bidder = _biddersForRefund[i];\n            compensation[bidder] += refunds[i];\n            emit ForceRefund(msg.sender, bidder, refunds[i]);\n        }","after":"// merge loop\n\nstart line 3402 column 8, end line 3407 column 8\nfor (uint256 i = 0; i < length; i++) {\n            address bidder = _biddersForRefund[i];\n            WorkInfo storage info = workInfo[bidder];\n            refunds[i] += refundETH;\n            info.depositedETH = resultBid;\n        }\nstart line 3413 column 8, end line 3417 column 8\nfor (uint256 i = 0; i < length; i++) {\n            address bidder = _biddersForRefund[i];\n            compensation[bidder] += refunds[i];\n            emit ForceRefund(msg.sender, bidder, refunds[i]);\n        }","contract":"WorkLock","time":0},{"type":"state-data-arrangement ","before":"\nuint16 public constant SLOWING_REFUND = 100;\nuint256 private constant MAX_ETH_SUPPLY = 2e10 ether;\nNuCypherToken public immutable token;\nStakingEscrow public immutable escrow;\nuint256 public immutable boostingRefund;\nuint256 public immutable minAllowedBid;\nuint16 public immutable stakingPeriods;\nuint256 public immutable maxAllowableLockedTokens;\nuint256 public immutable minAllowableLockedTokens;\nuint256 public tokenSupply;\nuint256 public startBidDate;\nuint256 public endBidDate;\nuint256 public endCancellationDate;\nuint256 public bonusETHSupply;\nmapping(address => WorkInfo) public workInfo;\nmapping(address => uint256) public compensation;\naddress[] public bidders;\nuint256 public nextBidderToCheck;","after":"uint256 private constant MAX_ETH_SUPPLY = 2e10 ether;\nNuCypherToken public immutable token;\nStakingEscrow public immutable escrow;\nuint256 public immutable boostingRefund;\nuint256 public immutable minAllowedBid;\nuint256 public immutable maxAllowableLockedTokens;\nuint256 public immutable minAllowableLockedTokens;\nuint256 public tokenSupply;\nuint256 public startBidDate;\nuint256 public endBidDate;\nuint256 public endCancellationDate;\nuint256 public bonusETHSupply;\nmapping(address => WorkInfo) public workInfo;\nmapping(address => uint256) public compensation;\naddress[] public bidders;\nuint256 public nextBidderToCheck;\nuint16 public constant SLOWING_REFUND = 100;\nuint16 public immutable stakingPeriods;\n","contract":"WorkLock","time":0}]}